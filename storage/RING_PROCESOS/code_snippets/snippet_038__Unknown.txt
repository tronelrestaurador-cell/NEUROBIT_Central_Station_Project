javascript
























1





2



3



4



5



6





7



8



9



10



11



12





13



14



15



16



17



18





19



20



21



22



23



24



25





26





27



28



29



30



31



32



33



34



35



36



37



38





39



40





41



42



43



44



45



46



47



48





49



50





51



52



53





54



55



56



57



58



59



60





61





62



63



64



65



66



67



68



69



70





71



72



73



74



75



76



77



78



79



80



81



82



83





84



85



86



87



88



89





90



91



92



93



94



95



96



97



98



99





100



101



102





103



104



105



106



107



108





109



110



111



112



113



114



115





116





117



118



119



120



121



122



123



124



125



126





127



128



129



130





131





132



133



134



135



136



137



138



139



140



141



142





143



144



145



146



147



148

































































































































































































































































































































































































































































































































































































































































































































































































































































































































class TaskManager {

    constructor() {

        this.tasks = this.loadTasks();

        this.initUI();

    }

    

    loadTasks() {

        // Cargar desde localStorage primero

        const stored = localStorage.getItem('neurobit_tasks');

        if (stored) return JSON.parse(stored);

        

        // Si no existe, cargar desde archivo (en implementación completa)

        return [

            { id: 'task1', text: 'Actualizar formateador.html', completed: false, timestamp: new Date().toISOString() },

            { id: 'task2', text: 'Probar LLM local con bitácora', completed: false, timestamp: new Date().toISOString() }

        ];

    }

    

    saveTasks() {

        localStorage.setItem('neurobit_tasks', JSON.stringify(this.tasks));

        

        // En implementación completa: guardar también en archivo local

        // fetch('/api/save-tasks', { method: 'POST', body: JSON.stringify(this.tasks) });

    }

    

    addTask(text) {

        const newTask = {

            id: 'task_' + Date.now(),

            text: text.trim(),

            completed: false,

            timestamp: new Date().toISOString()

        };

        

        this.tasks.push(newTask);

        this.saveTasks();

        this.renderTasks();

    }

    

    toggleTask(id) {

        const task = this.tasks.find(t => t.id === id);

        if (task) {

            task.completed = !task.completed;

            task.lastUpdated = new Date().toISOString();

            this.saveTasks();

            this.renderTasks();

        }

    }

    

    initUI() {

        // Configurar eventos

        document.getElementById('addTaskBtn').addEventListener('click', () => {

            const input = document.getElementById('newTaskInput');

            const text = input.value.trim();

            if (text) {

                this.addTask(text);

                input.value = '';

            }

        });

        

        // Permitir Enter para añadir tarea

        document.getElementById('newTaskInput').addEventListener('keypress', (e) => {

            if (e.key === 'Enter') {

                document.getElementById('addTaskBtn').click();

            }

        });

        

        // Renderizar tareas iniciales

        this.renderTasks();

    }

    

    renderTasks() {

        const pendingList = document.getElementById('pendingTasks');

        const completedList = document.getElementById('completedTasks');

        

        // Limpiar listas

        pendingList.innerHTML = '';

        completedList.innerHTML = '';

        

        // Separar tareas completadas y pendientes

        const pendingTasks = this.tasks.filter(t => !t.completed);

        const completedTasks = this.tasks.filter(t => t.completed);

        

        // Renderizar tareas pendientes

        pendingTasks.forEach(task => {

            const li = this.createTaskElement(task);

            pendingList.appendChild(li);

        });

        

        // Renderizar tareas completadas

        completedTasks.forEach(task => {

            const li = this.createTaskElement(task);

            completedList.appendChild(li);

        });

        

        // Actualizar contadores

        document.getElementById('pendingCount').textContent = pendingTasks.length;

        document.getElementById('completedCount').textContent = completedTasks.length;

    }

    

    createTaskElement(task) {

        const li = document.createElement('li');

        li.className = task.completed ? 'completed' : '';

        li.innerHTML = `

            <input type="checkbox" ${task.completed ? 'checked' : ''} data-id="${task.id}">

            <span class="task-text">${this.escapeHtml(task.text)}</span>

            <span class="task-date">${new Date(task.timestamp).toLocaleDateString()}</span>

        `;

        

        li.querySelector('input[type="checkbox"]').addEventListener('change', (e) => {

            this.toggleTask(task.id);

        });

        

        return li;

    }

    

    escapeHtml(unsafe) {

        return unsafe

            .replace(/&/g, "&amp;")

            .replace(/</g, "&lt;")

            .replace(/>/g, "&gt;")

            .replace(/"/g, "&quot;")

            .replace(/'/g, "&#039;");

    }

}



// Inicializar cuando el DOM esté listo

document.addEventListener('DOMContentLoaded', () => {

    window.taskManager = new TaskManager();

    

    // Botón para exportar a .txt

    document.getElementById('exportTasksBtn').addEventListener('click', () => {

        const content = window.taskManager.tasks.map(t => 

            `[${t.completed ? 'X' : ' '}] ${t.text} (${new Date(t.timestamp).toLocaleString()})`

        ).join('\n');

        

        const blob = new Blob([content], { type: 'text/plain' });

        const url = URL.createObjectURL(blob);

        const a = document.createElement('a');

        a.href = url;

        a.download = `tareas_neurobit_${new Date().toISOString().split('T')[0]}.txt`;

        document.body.appendChild(a);

        a.click();

        setTimeout(() => {

            document.body.removeChild(a);

            URL.revokeObjectURL(url);

        }, 0);

    });

});






















































































const pendingList: HTMLElement
